webpackJsonp([3],{"991W":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App",mounted:function(){}},a,!1,function(e){n("UFJV")},null,null).exports,u=n("zL8q"),i=n.n(u),c=n("mvHQ"),l=n.n(c);Storage.prototype.setExpire=function(e,t,n){var r={data:t,time:Date.now(),expire:n};localStorage.setItem(e,l()(r))},Storage.prototype.getExpire=function(e){var t=localStorage.getItem(e);return t?(t=JSON.parse(t),Date.now()-t.time>t.expire?(localStorage.removeItem(e),null):t.data):t};var s=n("NYxO"),f=n("//Fk"),p=n.n(f),m=localStorage.getExpire("userInfo"),v={state:{userInfo:{username:m?m.username:"",avatar:m?m.avatar:""}},actions:{handleLogin:function(e,t){var n=e.commit;return new p.a(function(e,r){t?e(t):r(t),n("setUserInfo",t)})},handleLoginOut:function(e){return(0,e.commit)("clearUserInfo"),p.a.resolve()}},mutations:{setUserInfo:function(e,t){localStorage.setExpire("userInfo",t,36e5),e.userInfo.username=t.username,e.userInfo.avatar=t.avatar},clearUserInfo:function(){localStorage.removeItem("userInfo")}}};r.default.use(s.a);var g=new s.a.Store({modules:{user:v}}),d=n("/ocq");r.default.use(d.a);var I=new d.a({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:function(){return n.e(1).then(n.bind(null,"K31e"))}},{path:"/wechat",name:"wechat",component:function(){return n.e(0).then(n.bind(null,"cCx3"))}}]});I.beforeEach(function(e,t,n){var r=localStorage.getExpire("userInfo");r?n():r||"/login"===e.path?r||"/login"!=e.path||n():n("/login")});var h=I;n("991W"),n("muQq"),n("tvR6");r.default.config.productionTip=!1,r.default.use(i.a),new r.default({el:"#app",router:h,store:g,components:{App:o},template:"<App/>"})},UFJV:function(e,t){},muQq:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.073716a6fa6be3afa9ce.js.map